<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <h3 class="modal-title">Resource details of <strong>{{ app['name'] }} / {{ app['role'] }} / {{ app['env'] }}</strong></h3>
</div>
<div class="zone col-md-6">
{%- if as_group -%}
<fieldset class="well the-fieldset">
    <legend class="the-legend">
        <h4 class="modal-title"><span class="fa fa-cubes"></span> Auto Scaling Group <strong>{{ as_group.name }}</strong></h4>
    </legend>
    {%- if elbs_instances | length > 0 -%}
    <div>
        {% for elb in elbs_instances %}
            <div>
                 <strong>{{ elb['elb_name'] }}</strong><br/>
                 {% for instance in elb['elb_instances']  %}
                     {{ instance['id'] }}<br/>
                 {% endfor %}
            </div>
        {% endfor %}
    <br/>
    {%- endif -%}
    </div>
    {%- if as_instances | length > 0 -%}
<ul class="app-infos-wrap">
    {% for host in as_instances %}
    <li>
        <a class="instance-item {{ host['status'] }}" href="#">
            <span class="ionicons ion-cube"></span>
            <span class="instance-id">{{ host['id'] }}</span>
        </a>
        <div class="instance-content hide">
            <legend class="the-legend">
                <h4 class="modal-title"><span class="glyphicon glyphicon-th"></span> Instance Details <strong>{{ host['id'] }}</strong></h4>
            </legend>
            <p>
                <strong class="label label-default">Private IP</strong> {{ host['private_ip_address'] }}
            </p>
            <p>
                <strong class="label label-default">Public IP</strong> {{ host['public_ip_address'] }}
            </p>
            <p>
                <strong class="label label-default">State</strong> {{ host['status'] }}
            </p>
            <p>
                <strong class="label label-default">Launch Time</strong> {{ host['launch_time'] }}
            </p>
            <p>
                <strong class="label label-default">Security Groups</strong> {{ host['security_group'] }}
            </p>
            <p>
                <strong class="label label-default">Subnet Id</strong> {{ host['subnet_id'] }}
            </p>
            <p>
                <strong class="label label-default">Image Id</strong> {{ host['image_id'] }}
            </p>
            <p>
                <strong class="label label-default">Instance Type</strong> {{ host['instance_type'] }}
            </p>
            <p>
                <strong class="label label-default">Instance Profile</strong> {{ host['instance_profile'] }}
            </p>
        </div>
    </li>
{% endfor %}
</ul>
{%- else %}
<p>No instance found in the AS <strong>{{ as_group.name }}</strong></p>
{%- endif %}
</fieldset>
{%- endif %}

{%- if ghost_instances | length > 0 -%}
<fieldset class="well the-fieldset">
    <legend class="the-legend">
        <h4 class="modal-title">Standalone instances</h4>
    </legend>
<ul class="app-infos-wrap">
{% for host in ghost_instances %}
    <li>
        <a class="instance-item {{ host['status'] }}" href="#">
            <span class="ionicons ion-cube"></span>
            <span class="instance-id">{{ host['id'] }}</span>
        </a>
        <div class="popper-content hide">
            <legend class="the-legend">
                <h4 class="modal-title"><span class="glyphicon glyphicon-th"></span> Instance Details <strong>{{ host['id'] }}</strong></h4>
            </legend>
            <p>
                <strong class="label label-default">Private IP</strong> {{ host['private_ip_address'] }}
            </p>
            <p>
                <strong class="label label-default">Public IP</strong> {{ host['public_ip_address'] }}
            </p>
            <p>
                <strong class="label label-default">State</strong> {{ host['status'] }}
            </p>
            <p>
                <strong class="label label-default">Launch Time</strong> {{ host['launch_time'] }}
            </p>
            <p>
                <strong class="label label-default">Security Groups</strong> {{ host['security_group'] }}
            </p>
            <p>
                <strong class="label label-default">Subnet Id</strong> {{ host['subnet_id'] }}
            </p>
            <p>
                <strong class="label label-default">Image Id</strong> {{ host['image_id'] }}
            </p>
            <p>
                <strong class="label label-default">Instance Type</strong> {{ host['instance_type'] }}
            </p>
            <p>
                <strong class="label label-default">Instance Profile</strong> {{ host['instance_profile'] }}
            </p>
        </div>
    </li>
{% endfor %}
</ul>
</fieldset>
{%- else %}
<div class="zone">
    <h4 class="modal-title">No standalone instance found for the app <strong>'{{ app['name'] }}'</strong></h4>
</div>
{%- endif %}
</div>

<div class="zone col-md-6" id="as-instance-details">
    <fieldset class="well the-fieldset hide">
        <p style="text-align: center;"><img src="{{ url_for('static', filename='ajax-loader.gif')}}" alt="Loading..."></p>
    </fieldset>
</div>

<div class="modal-footer" style="clear:both;"></div>
